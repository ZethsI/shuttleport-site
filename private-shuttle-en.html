<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Book a private shuttle with ShuttlePort for a comfortable, secure, and luxurious transfer experience.">
  <title>Private Shuttle | ShuttlePort</title>
  <link rel="stylesheet" href="styles.css">
 <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    * { box-sizing: border-box; padding-left: 10px; padding-right: 10px; }
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f4f4f4; color: #333; }
    header, footer { background: #003366; color: #fff; padding: 0.25rem 0; text-align: center; }
    nav ul { list-style: none; display: flex; justify-content: center; flex-wrap: wrap; gap: 1.5rem; }
    
    nav a {
  color: white;
  text-decoration: none;
  font-weight: 400;
}
    nav a:hover { text-decoration: underline; }
    .language-selector { position: absolute; top: 1rem; right: 1rem; }
    .language-selector select { padding: 0.5rem; border-radius: 5px; border: none; }
    main { max-width: 1000px; margin: auto; padding: 2rem; background: #fff; }
    section { margin-bottom: 2rem; }
    h2 { color: #003366; margin-bottom: 1rem; }
    form input, form textarea, form select { width: 100%; padding: 0.75rem; margin-bottom: 1rem; border: 1px solid #ccc; border-radius: 5px; }
    form button { background: #003366; color: white; padding: 0.75rem 1.5rem; border: none; border-radius: 5px; cursor: pointer; }
    form button:hover { background: #0055aa; }
    iframe { width: 100%; height: 300px; border: none; margin-top: 1rem; }
    footer p { margin: 0.5rem 0; }
    #map { width: 100%; height: 400px; border-radius: 10px; border: 1px solid #ccc; margin-top: 10px; margin-bottom: 10px; }
    #route-calc-container { background: #f9f9ff; border: 1px solid #dde; border-radius: 10px; padding: 16px; margin-bottom: 2rem; }
    @media (max-width: 600px) {
      nav ul { flex-direction: column; }
      .language-selector { position: static; margin-bottom: 1rem; text-align: center; }
    }

header, footer {
  background: #003366;
  color: #fff;
  padding: 0.5rem 0;
  text-align: center;
}
.header-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 950px;
  margin: 0 auto;
  padding: 0 4px;
  font-size: 0.97rem;
}
.logo-img {
  height: 64px;
}
.language-switcher select {
  padding: 0.5rem;
  border-radius: 5px;
  border: none;
}
nav ul {
  list-style: none;
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 1.5rem;
  padding: 0;
  margin: 0;
  font-size: 0.97rem;
}
nav a {
  color: white;
  text-decoration: none;
  font-weight: 400;
  font-size: 0.97rem;
}
nav a.active {
  text-decoration: underline;
}
@media (max-width: 600px) {
  .header-row {
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    padding: 0 8px;
  }
  .logo-img {
    height: 64px;
  }
  nav ul {
    flex-direction: column;
    gap: 0.8rem;
  }
}
    
  </style>
</head>
<body>

<header>
  <div class="header-row">
    <img src="VIP Ikonos Logo.jpeg" class="logo-img" alt="ShuttlePort Logo">
    <div class="language-switcher">
      <select id="languageSelect" onchange="changeLanguage(this)">
        <option value="private-shuttle-en.html" selected>English ðŸ‡¬ðŸ‡§</option>
        <option value="private-shuttle-ja.html">æ—¥æœ¬èªž ðŸ‡¯ðŸ‡µ</option>
        <option value="private-shuttle-de.html">Deutsch ðŸ‡©ðŸ‡ª</option>
        <option value="private-shuttle-es.html">EspaÃ±ol ðŸ‡ªðŸ‡¸</option>
      </select>
    </div>
  </div>
  <nav>
    <ul>
      <li><a href="index-en.html">VIP Airport Transfer</a></li>
      <li><a href="city-tours-en.html">City Tours</a></li>
      <li><a href="private-shuttle-en.html" class="active">Private Shuttle</a></li>
      <li><a href="faq-en.html">FAQ</a></li>
    </ul>
  </nav>
</header>



  <section class="hero">
    <h1>Private Shuttle Service</h1>
    <p>Enjoy the luxury of private travel with ShuttlePort. Personalized, professional, and punctual.</p>
  </section>

<section class="private-shuttle-vehicles">
  <h2>Our Fleet</h2>
  <div class="vehicles-list" style="display: flex; flex-wrap: wrap; gap: 30px;">
    <div class="vehicle-card">
      <img src="https://via.placeholder.com/180x110?text=Sedan" alt="Sedan" />
      <h4>Sedan</h4>
      <p>Comfortable and affordable for up to 3 passengers.</p>
    </div>
    <div class="vehicle-card">
      <img src="https://via.placeholder.com/180x110?text=Minivan" alt="Minivan" />
      <h4>Minivan</h4>
      <p>Ideal for families, up to 6 passengers and luggage.</p>
    </div>
    <div class="vehicle-card">
      <img src="https://via.placeholder.com/180x110?text=VIP+Van" alt="VIP Van" />
      <h4>VIP Van</h4>
      <p>Luxury for business or leisure, seats up to 7 people.</p>
    </div>
    <div class="vehicle-card">
      <img src="https://via.placeholder.com/180x110?text=SUV" alt="SUV" />
      <h4>SUV</h4>
      <p>Spacious, stylish, perfect for group adventures.</p>
    </div>
    <div class="vehicle-card">
      <img src="https://via.placeholder.com/180x110?text=Minibus" alt="Minibus" />
      <h4>Minibus</h4>
      <p>Best for large groups, up to 14 passengers.</p>
    </div>
  </div>
</section>

<section class="shuttle-destinations" style="margin-top:2rem;">
  <h2>Top Private Shuttle Destinations</h2>
  <ul>
    <li><b>Istanbul:</b> <a href="https://muze.gen.tr/muze-detay/ayasofya" target="_blank">Hagia Sophia</a> â€“ Experience the heart of Istanbul with ease.</li>
    <li><b>Antalya:</b> <a href="https://www.dudenwaterfalls.com/" target="_blank">DÃ¼den Waterfalls</a> â€“ Natural beauty just a ride away.</li>
    <li><b>Izmir:</b> <a href="https://www.agoraism.com/" target="_blank">Agora Open Air Museum</a> â€“ Ancient history at your doorstep.</li>
    <li><b>Ankara:</b> <a href="https://anitkabir.tsk.tr/" target="_blank">AnÄ±tkabir</a> â€“ Visit the nationâ€™s most iconic monument.</li>
    <li><b>MuÄŸla (Dalaman):</b> <a href="https://www.oludenizbeach.com/" target="_blank">Ã–lÃ¼deniz Beach</a> â€“ Relax at the turquoise coast.</li>
  </ul>
</section>
  
  <section class="about-private-shuttle">
    <h2>Why Choose Our Private Shuttle?</h2>
    <p>Our private shuttle service offers you complete flexibility and comfort. Whether you're traveling for business, vacation, or a special event, we provide seamless, door-to-door transportation with professional drivers and premium vehicles.</p>
    <ul>
      <li>Customized pick-up and drop-off locations</li>
      <li>24/7 service availability</li>
      <li>Luxurious and sanitized vehicles</li>
      <li>English-speaking drivers</li>
      <li>Fixed and transparent pricing</li>
    </ul>
  </section>

  <!-- ROUTE & PRICE CALCULATOR -->
  <section id="route-calc-container">
    <h2>Calculate Your Route & Price</h2>
    <div style="margin:10px 0 20px 0;">
      <label>Pickup Address: 
        <input type="text" id="pickup" placeholder="Enter pickup address or click map" size="40" autocomplete="off">
      </label>
      <br>
      <label>Dropoff Address: 
        <input type="text" id="dropoff" placeholder="Enter dropoff address or click map" size="40" autocomplete="off">
      </label>
      <br>
      <button type="button" id="calcBtn" onclick="routeAndPrice()">Calculate Route & Price</button>
    </div>
    <div id="map"></div>
    <div id="result" style="margin-top:15px;font-size:1.2em;"></div>
    <div style="font-size:0.92em;color:#888;">
      <b>Tip:</b> You can click on the map to set pickup and dropoff points, or type an address. Drag markers to fine-tune locations.
    </div>
  </section>

  <section class="reservation">
    <h2>Book Your Private Shuttle</h2>
    <form action="https://formsubmit.co/64273ee324c3c564e807981d98151119" method="POST" id="reservationForm">
      <input type="hidden" name="_next" value="https://www.shuttleport.net/thank-you-en.html">
      <input type="text" name="name" placeholder="Full Name" required>
      <input type="email" name="email" placeholder="Email Address" required>
      <input type="tel" name="phone" placeholder="Phone Number" required>
      <input type="text" name="pickup" id="form-pickup" placeholder="Pick-up Location" required readonly>
      <input type="text" name="dropoff" id="form-dropoff" placeholder="Drop-off Location" required readonly>
      <input type="text" name="price" id="price" placeholder="Calculated Price (â‚¬)" required readonly>
      <input type="datetime-local" name="date" required>
      <textarea name="notes" placeholder="Additional Notes (optional)"></textarea>
      <button type="submit" id="submitBtn" disabled>Confirm Reservation</button>
    </form>
  </section>

  <section class="map-section">
    <h2>Our Service Area</h2>
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12030.02422744587!2d28.9760189!3d41.0082376!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14caba8f76d95b7d%3A0x51b88ab6525cb364!2sIstanbul!5e0!3m2!1sen!2str" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
  </section>

  <section class="social-section" style="background-color: #f9f9ff; padding: 2rem 0;">
    <h2 style="text-align: center; font-size: 1.5rem; color: #444;">Follow Our Journeys</h2>
    <div style="max-width: 300px; margin: 1rem auto 0 auto; text-align: center;">
      <a href="https://www.instagram.com/vipshuttleport/" target="_blank" style="margin: 0 10px; display: inline-block;">
        <img src="https://cdn-icons-png.flaticon.com/512/1384/1384063.png" alt="Instagram"
             style="width: 32px; height: 32px; transition: transform 0.3s ease;">
      </a>
      <a href="https://www.tiktok.com/@vipshuttleport" target="_blank" style="margin: 0 10px; display: inline-block;">
        <img src="https://cdn-icons-png.flaticon.com/512/3046/3046125.png" alt="TikTok"
             style="width: 32px; height: 32px; transition: transform 0.3s ease;">
      </a>
    </div>
  </section>

  <style>
    .social-section a:hover img {
      transform: scale(1.2);
    }
  </style>

  <footer>
    <div class="footer-links">
      <a href="index-en.html">Home</a> |
      <a href="vip-airport-transfer-en.html">VIP Airport Transfer</a> |
      <a href="city-tours-en.html">City Tours</a> |
      <a href="private-shuttle-en.html">Private Shuttle</a> |
      <a href="faq-en.html">FAQ</a>
    </div>
    <p>&copy; 2025 ShuttlePort. All rights reserved.</p>
  </footer>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    function changeLanguage(select) {
      const selectedPage = select.value;
      window.location.href = selectedPage;
    }



    // Harita baÅŸlat
    const map = L.map('map').setView([41.01, 28.98], 11);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 }).addTo(map);

    let pickupMarker = null, dropoffMarker = null;
    let setPickup = true;

    // Marker'Ä± haritadan ekle ve inputa yaz
    map.on('click', function(e) {
      if (setPickup) {
        if (pickupMarker) map.removeLayer(pickupMarker);
        pickupMarker = L.marker(e.latlng, {draggable:true}).addTo(map).bindPopup('Pickup').openPopup();
        document.getElementById('pickup').value = `${e.latlng.lat},${e.latlng.lng}`;
        setPickup = false;
        pickupMarker.on('dragend', function(ev) {
          var pos = ev.target.getLatLng();
          document.getElementById('pickup').value = `${pos.lat},${pos.lng}`;
        });
      } else {
        if (dropoffMarker) map.removeLayer(dropoffMarker);
        dropoffMarker = L.marker(e.latlng, {draggable:true}).addTo(map).bindPopup('Dropoff').openPopup();
        document.getElementById('dropoff').value = `${e.latlng.lat},${e.latlng.lng}`;
        setPickup = true;
        dropoffMarker.on('dragend', function(ev) {
          var pos = ev.target.getLatLng();
          document.getElementById('dropoff').value = `${pos.lat},${pos.lng}`;
        });
      }
    });

    // Geocoding: adresi koordinata Ã§evir
async function addressToCoords(address) {
  const url = `/api/geocode?text=${encodeURIComponent(address)}`; // ArtÄ±k kendi backend'in
  const res = await fetch(url);
  const data = await res.json();
  if(data && data.features && data.features.length > 0) {
    return data.features[0].geometry.coordinates; // [lng, lat]
  }
  throw new Error("Address not found");
}
    
  async function routeAndPrice() {
  let pickup = document.getElementById('pickup').value.trim();
  let dropoff = document.getElementById('dropoff').value.trim();
  let pickupCoords, dropoffCoords;
  const submitBtn = document.getElementById('submitBtn');
  submitBtn.disabled = true;

  try {
    // KullanÄ±cÄ± koordinat girerse [lat, lng] â†’ [lng, lat] Ã§evir
    if (pickup.includes(',') && pickup.split(',').length === 2) {
      let arr = pickup.split(',').map(Number);
      pickupCoords = [arr[1], arr[0]];
    } else {
      pickupCoords = await addressToCoords(pickup); // [lng, lat]
    }
    if (dropoff.includes(',') && dropoff.split(',').length === 2) {
      let arr = dropoff.split(',').map(Number);
      dropoffCoords = [arr[1], arr[0]];
    } else {
      dropoffCoords = await addressToCoords(dropoff); // [lng, lat]
    }

    // Post body *doÄŸru* olmalÄ±
const url = "/api/route"; // Eskiden doÄŸrudan OpenRouteService idi, ÅŸimdi kendi endpoint'in

const body = {
  coordinates: [
    pickupCoords,   // [lng, lat]
    dropoffCoords   // [lng, lat]
  ]
};

const res = await fetch(url, {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify(body)
});
const data = await res.json();

if(data && data.routes && data.routes.length > 0) {
    // Rota Ã§iz ve fiyat hesapla
    const distance_km = data.routes[0].summary.distance / 1000;
    const base_price = Math.max(25, distance_km * 1.5);

    document.getElementById('result').innerHTML = `
      <b>Distance:</b> ${distance_km.toFixed(1)} km<br>
      <b>Estimated Price:</b> â‚¬${base_price.toFixed(2)}
    `;
    document.getElementById('price').value = base_price.toFixed(2) + ' â‚¬';
    document.getElementById('form-pickup').value = document.getElementById('pickup').value;
    document.getElementById('form-dropoff').value = document.getElementById('dropoff').value;
    submitBtn.disabled = false;
} else {
    document.getElementById('result').innerHTML = "Route not found.";
    document.getElementById('price').value = '';
    submitBtn.disabled = true;
}
  } catch (err) {
    document.getElementById('result').innerHTML = "Error: " + err.message;
    document.getElementById('price').value = '';
    submitBtn.disabled = true;
  }
}
    // Formda Ã¼cret olmadan gÃ¶nderimi engelle (ek gÃ¼venlik)
    document.getElementById('reservationForm').addEventListener('submit', function(e) {
      if (!document.getElementById('price').value) {
        alert('Please calculate your route and price before confirming your reservation.');
        e.preventDefault();
      }
    });

  </script>
</body>
</html>
